<!--
  Generated template for the UserprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons end  *ngIf="this.afauth.auth.currentUser.uid == this.navParams.data.uid">
      <button ion-button icon-only>
        <i class="fa fa-pencil fa-2x" aria-hidden="true"></i>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item id="profile_head">
    <div id="profile_img">
      <img src='{{(user|async)?.photoURL}}'>
    </div>

    <div id="interact_items">
      <ion-item class="follow_numbers">{{(user|async)?.noFollowers}} <span class="follow_item">Followers</span></ion-item>
      <ion-item class="follow_numbers">{{(user|async)?.noFollowing}} <span class="follow_item">Following</span></ion-item>
      <button ion-button round class="follow_button general-button"
              *ngIf="this.afauth.auth.currentUser.uid != this.navParams.data.uid
                    && isFollowing != true"
              (click)="follow()">Follow</button>
      <button ion-button round class="general-button-clicked"
              *ngIf="this.afauth.auth.currentUser.uid != this.navParams.data.uid
                    && isFollowing == true"
              (click)="unfollow()">Following</button>
    </div>
  </ion-item>

  <ion-item>
    <div id="profile_desc">
      <h3 id="profile_name">{{(user|async)?.displayName}}</h3>
      <p id="profile_info">
        {{(user|async)?.info}}
      <br>More info goes here
      </p>
    </div>
  </ion-item>

  <ion-list>
    <ion-item class="text-container" *ngFor="let text of texts | async" text-wrap no-lines>
      <page-textbox [text]="text"></page-textbox>
    </ion-item>
  </ion-list>


</ion-content>
